{
  "version": 3,
  "sources": ["../../src/withController.tsx"],
  "sourcesContent": ["import React, { forwardRef } from 'react'\nimport { Controller, ControllerRenderProps, FieldValues, useFormContext } from 'react-hook-form'\n\nimport { useField } from './fieldContext'\nimport { WithControllerProps } from './types'\nimport { composeEventHandlers } from 'tamagui'\n\nexport function withController<\n  TProps extends {} = {},\n  TFieldValues extends FieldValues = FieldValues\n>(\n  Component: React.JSXElementConstructor<TProps>,\n  mapProps: Partial<Record<keyof ControllerRenderProps, keyof TProps>>\n) {\n  return forwardRef(function controlled<Values extends TFieldValues = TFieldValues>(\n    props: WithControllerProps<Partial<TProps>, Values>,\n    ref\n  ) {\n    const { control }= useFormContext()\n    const { name: nameContext } = useField<TFieldValues>()\n    const { name, rules, shouldUnregister, defaultValue, ...propsComponent } = props\n    return (\n      <Controller\n        control={control}\n        name={name ?? (nameContext as any)}\n        rules={rules}\n        shouldUnregister={shouldUnregister}\n        defaultValue={defaultValue}\n        render={({ field: { ref: innerRef, ...field }, ...other }) => {\n          const propsMapped = Object.keys(field).reduce((acc, keyFrom) => {\n            const keyTo = mapProps[keyFrom]\n            const propFrom = field[keyFrom]\n            acc[keyTo ?? keyFrom] = keyTo?.match(/^on/g)\n              ? composeEventHandlers(propFrom, props[keyTo], { checkDefaultPrevented: false })\n              : propFrom\n            return acc\n          }, {})\n          return <Component ref={innerRef} {...(propsComponent as TProps)} {...propsMapped} />\n        }}\n      />\n    )\n  })\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkC;AAClC,6BAA+E;AAE/E,0BAAyB;AAEzB,qBAAqC;AAE9B,SAAS,eAId,WACA,UACA;AACA,aAAO,yBAAW,SAAS,WACzB,OACA,KACA;AACA,UAAM,EAAE,QAAQ,QAAG,uCAAe;AAClC,UAAM,EAAE,MAAM,YAAY,QAAI,8BAAuB;AACrD,UAAM,EAAE,MAAM,OAAO,kBAAkB,cAAc,GAAG,eAAe,IAAI;AAC3E,WACE,CAAC;AAAA,MACC,SAAS;AAAA,MACT,MAAM,QAAS;AAAA,MACf,OAAO;AAAA,MACP,kBAAkB;AAAA,MAClB,cAAc;AAAA,MACd,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,UAAU,GAAG,MAAM,GAAG,GAAG,MAAM,MAAM;AAC5D,cAAM,cAAc,OAAO,KAAK,KAAK,EAAE,OAAO,CAAC,KAAK,YAAY;AAC9D,gBAAM,QAAQ,SAAS,OAAO;AAC9B,gBAAM,WAAW,MAAM,OAAO;AAC9B,cAAI,SAAS,OAAO,KAAI,+BAAO,MAAM,eACjC,qCAAqB,UAAU,MAAM,KAAK,GAAG,EAAE,uBAAuB,MAAM,CAAC,IAC7E;AACJ,iBAAO;AAAA,QACT,GAAG,CAAC,CAAC;AACL,eAAO,CAAC,UAAU,KAAK,cAAe,oBAA+B,aAAa;AAAA,MACpF;AAAA,IACF;AAAA,EAEJ,CAAC;AACH;",
  "names": []
}
